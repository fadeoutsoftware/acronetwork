<!doctype html>
<!-- The DOCTYPE declaration above will set the     -->
<!-- browser's rendering engine into                -->
<!-- "Standards Mode". Replacing this declaration   -->
<!-- with a "Quirks Mode" doctype is not supported. -->

<html ng-app="acronetwork">
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <!--                                           -->
    <!-- Any title is fine                         -->
    <!--                                           -->
    <title>Acronetwork</title>

    <!-- Google Maps Scripts -->
    <script src="http://maps.google.com/maps/api/js?v=3&amp;sensor=false"></script>
    <!-- Open Layers Scripts -->
    <script src="http://www.openlayers.org/api/OpenLayers.js"></script>

    <!-- Bootstrap core CSS -->
    <!--link href="css/bootstrap.css" rel="stylesheet"-->
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">

    <!-- Add custom CSS here -->
    <link href="css/customfonts.css" rel="stylesheet">
    <link href="font-awesome/css/font-awesome.min.css" rel="stylesheet">
    <link href="css/acronetwork.css" rel="stylesheet">

</head>

<!--                                           -->
<!-- The body can have arbitrary html, or      -->
<!-- you can leave the body empty if you want  -->
<!-- to create a completely dynamic UI.        -->
<!--                                           -->
<body ng-controller="TemplateController">

<!-- RECOMMENDED if your web app will not function without JavaScript enabled -->
<noscript>
    <div style="width: 22em; position: absolute; left: 50%; margin-left: -11em; color: red; background-color: white; border: 1px solid red; padding: 4px; font-family: sans-serif">
        Your web browser must have JavaScript enabled
        in order for this application to display correctly.
    </div>
</noscript>

<!-- Side Menu -->
<a id="menu-toggle" href="#" class="btn btn-primary btn-lg toggle"><i class="fa fa-bars"></i></a>
<!--img id="menu-waiting" src="img/Waiting.GIF"  class = "toggle"/-->
<div id="sidebar-wrapper">
    <ul class="sidebar-nav">
        <a id="menu-close" href="#" class="btn btn-default btn-lg pull-right toggle"><i class="fa fa-times"></i></a>
        <li class="sidebar-brand"><a href="#top">ACRONETWORK</a></li>
        <li><a href="#top">Home</a></li>
        <li><a ng-click="m_oController.serviceIconClicked('/maps')">Dati</a></li>
        <li><a ng-click="m_oController.serviceIconClicked('/stationstable')">Tabelle</a></li>
        <li><a ng-click="m_oController.serviceIconClicked('/animations')">Satellite e Radar</a></li>
        <li><a ng-click="m_oController.serviceIconClicked('/animations')">Modelli Meteo Marini</a></li>
        <li><a ng-click="m_oController.serviceIconClicked('/credits')">Crediti</a></li>
        <br>
        <li>
            <a ng-click="m_oController.reservedAreaClicked()">{{m_oController.ReservedAreaText}}</a>
            <div ng-show="m_oController.getShowLogin()" class="login-panel">
                <form role="form">
                    <div class="form-group">
                        <a ng-class="{'loginError': m_oController.m_bLoginError}">{{ m_oController.m_sLoginMessage }}</a>
                    </div>
                    <div class="form-group">
                        <!--label for="userId">Indirizzo E-Mail</label-->
                        <input type="email" class="form-control" id="userId" ng-model="m_oController.credentials.userId" ng-change="m_oController.resetLoginMessage()" placeholder="Inserisci E-Mail" ng-disabled="m_oController.m_bLoading">
                    </div>
                    <div class="form-group">
                        <!--label for="userPassword">Password</label-->
                        <input type="password" class="form-control" id="userPassword" ng-model="m_oController.credentials.userPassword" ng-change="m_oController.resetLoginMessage()" placeholder="Password"  ng-disabled="m_oController.m_bLoading">
                    </div>
                    <button type="submit" ng-click="m_oController.login()" class="btn btn-default" ng-show="!m_oController.m_bLoading">Accedi</button>
                    <!--div class="form-group">
                        <a ng-click="m_oController.login()" class="">
                            <span class="btn btn-default">
                                <i class="fa fa-user text-center">&nbsp;Accedi</i>
                            </span>
                        </a>
                    </div-->
                    <img class="loginWaiting" src="img/grayloader.gif" ng-show="m_oController.m_bLoading"/>
                </form>
            </div>

            <div ng-show="m_oController.getShowLogout()">
                <form role="form">
                    <div class="form-group">
                        <a ng-click="m_oController.serviceIconClicked('/settings')">Impostazioni Personali</a>
                    </div>
                    <button type="submit" ng-click="m_oController.logout()" class="btn btn-default btn-logout">Esci</button>
                </form>
            </div>
        </li>
    </ul>
</div>
<!-- /Side Menu -->

<!-- Full Page Image Header Area
<div id="top" class="header">
  <div class="vert-text">
    <h1>Acronetwork</h1>
    <h3>Centro Funzionale della Protezione Civile della Regione Liguria</h3>
    <a href="#about" class="btn btn-default btn-lg">Start</a>
  </div>
</div>
-->
<!-- /Full Page Image Header Area -->

<!-- Intro
<div id="about" class="intro">-->
<div id="top" class="header">
    <div class="container-fluid" style="padding-left: 0px; padding-right: 0px">
        <div class="row loghi">
            <table>
                <tr>
                    <td class="hidden-xs"><img class="logo payoff" src="img/Slogan_it.png" /></td>
                    <td><img class="logo" src="img/Logo_Marittimo.jpg" /></td>
                    <td class="hidden-xs"><img class="logo payoff right" src="img/Slogan_fr.png"  /></td>
                </tr>
            </table>
        </div>
        <div >
            <table>
                <tr>
<!--                    <td class="hidden-xs"><img class="logo" src="img/logo-arpal.png" /></td>-->
                    <td>
                        <h1 class="big">Acronetwork</h1>
                        <br/>
                        <p class="lead">Osservatorio Meteo Idrologico della Regione Liguria</p>
                    </td>
<!--                    <td class="hidden-xs"><img class="logo" src="img/logo-regione.svg" /></td>-->
                </tr>
            </table>
        </div>
        <div class="row loghi">
            
                <img class="logo g2" src="img/logo-regione.png" />
                <img class="logo g2" src="img/logo-arpal.png" />
            
        </div>


        <!-- Services -->
        <div id="services" class="services">
            <div class="row">


                <!--div class="row">
                    <div class="col-md-4 col-md-offset-4 text-center">
                        <h2>Servizi</h2>
                        <hr>
                    </div>
                </div-->

                <div class="col-md-2 col-md-offset-2 text-center">
                    <div class="service-item">
                        <i class="service-icon fa fa-bar-chart-o" ng-click="m_oController.serviceIconClicked('/map')"></i>
                        <h4><a ng-click="m_oController.serviceIconClicked('/map')" style="cursor: pointer">Dati</a></h4>
                        <p>Osservazioni georiferite di parametri meteo-marini ed idrologici in tempo reale sulla Liguria</p>
                    </div>
                </div>
                <div class="col-md-2 text-center">
                    <div class="service-item">
                        <i class="service-icon fa fa-table" ng-click="m_oController.serviceIconClicked('/stationstable')"></i>
                        <h4><a  ng-click="m_oController.serviceIconClicked('/stationstable')"  style="cursor: pointer">Tabelle</a></h4>
                        <p>Elaborazione dati osservati</p>
                    </div>
                </div>
                <div class="col-md-2 text-center">
                    <div class="service-item">
                        <i class="service-icon fa omirl-sat-ground" ng-click="m_oController.serviceIconClicked('/animations')"></i>
                        <h4><a ng-click="m_oController.serviceIconClicked('/animations')">Satellite e Radar</a></h4>
                        <p>Mappe di precipitazione e nuvolosità elaborate da sensori remoti</p>
                    </div>
                </div>
                <div class="col-md-2 text-center">
                    <div class="service-item">
                        <i class="service-icon fa fa-globe" ng-click="m_oController.serviceIconClicked('/credits')"></i>
                        <h4><a ng-click="m_oController.serviceIconClicked('/animations')">Modelli meteo-marini</a></h4>
                        <p>Mappe di previsione dei principali parametri meteo-marini</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- /Services -->

        <div class="row loghi fixed  ">
            <table>
                <tr>
                    <td class="payoff right"><h6>Programma cofinanziato con il Fondo Europeo <br/> per lo Sviluppo Regionale</h6></td>
                    <td ><img class="logo payoff"  src="img/Flag_of_Europe.svg" /></td>
                    <td class="payoff left"><h6>Programme cofinancé <br/> par le Fonds Européen
                        de Devél oppement Régional</h6></td>
                </tr>
            </table>
        </div>
    </div>
</div>



<!-- /Intro -->



<!-- Callout -->
<!--div class="callout">
  <div class="vert-text">
    <!--h1 id="m_h1CalloutTitle">Acronetwork on line</h1>
  </div>
</div-->
<!-- /Callout -->

<!-- Map -->
<div id = "contentcontainer" ng-style="m_oController.m_sContainerStyle">
    <div ng-view ></div>
</div>
<!-- /Map -->


    <!-- JavaScript -->
    <!-- In production use:
    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.0.7/angular.min.js"></script>
    -->
    <!-- jQuery -->
    <link rel="stylesheet" href="//code.jquery.com/ui/1.11.1/themes/start/jquery-ui.css">
    <!--script src="lib/jquery/jquery-1.10.2.js"></script-->
    <script src="//code.jquery.com/jquery-1.11.0.min.js"></script>

    <!-- Bootstrap -->
    <!--script src="lib/bootstrap/bootstrap.js"></script-->
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>

    <!-- jQueryUI -->
    <script src="//code.jquery.com/ui/1.11.1/jquery-ui.js"></script>

    <!-- Angular -->
    <script src="lib/angular/angular.js"></script>
    <script src="lib/angular/angular-route.js"></script>
    <script src="http://angular-ui.github.io/bootstrap/ui-bootstrap-tpls-0.11.0.js"></script>
    <!-- Highstock Scripts -->
    <!--script src="http://code.highcharts.com/highcharts.js"></script>
    <script src="http://code.highcharts.com/modules/exporting.js"></script-->
    <script src="lib/Highstock/highstock.js"></script>
    <script src="lib/Highstock/modules/exporting.js"></script>
    <!-- Map Control -->
    <script src="lib/azimuthjs/module.js"></script>
    <script src="lib/azimuthjs/services/component/mapService.js"></script>
    <script src="lib/azimuthjs/services/component/layersService.js"></script>
    <script src="lib/azimuthjs/directives/Layer.js"></script>
    <script src="lib/azimuthjs/directives/leafletMap.js"></script>
    <script src="lib/azimuthjs/directives/olMap.js"></script>
    <!-- Chart Directive -->
    <!--script src="js/directives/StockDirective.js"></script-->
    <script src="js/directives/ChartDirective.js"></script>
    <!-- Acronetwork Services -->
    <script src="js/services/dialog-service.js"></script>
    <script src="js/services/ConstantsService.js"></script>
    <script src="js/services/authService.js"></script>
    <script src="js/services/mapNavigatorService.js"></script>
    <script src="js/services/stationsService.js"></script>
    <script src="js/services/chartService.js"></script>
    <script src="js/services/SessionInjector.js"></script>
    <!-- Acronetwork Controllers -->
    <script src="js/controllers/TemplateController.js"></script>
    <script src="js/controllers/MapController.js"></script>
    <script src="js/controllers/TablesController.js"></script>
    <script src="js/controllers/AnimationsController.js"></script>
    <script src="js/controllers/CreditsController.js"></script>
    <script src="js/controllers/ChartController.js"></script>
    <script src="js/controllers/SettingsController.js"></script>
    <script src="js/controllers/StationsTableController.js"></script>
    <script src="js/controllers/IdroModelTableController.js"></script>
    <script src="js/controllers/SensorTableController.js"></script>
    <script src="js/controllers/MaxTableController.js"></script>
    <script src="js/controllers/SummaryTableController.js"></script>
    <script src="js/filters.js"></script>
    <script src="js/directives.js"></script>
    <script src="js/app.js"></script>

<!-- Custom JavaScript for the Side Menu and Smooth Scrolling -->
<script>
    $("#menu-close").click(function(e) {
        e.preventDefault();
        $("#sidebar-wrapper").toggleClass("active");
    });
</script>
<script>
    $("#menu-toggle").click(function(e) {
        e.preventDefault();
        $("#sidebar-wrapper").toggleClass("active");
    });
</script>
<script>
    $(function() {
        $('a[href*=#]:not([href=#])').click(function() {
            if (location.pathname.replace(/^\//,'') == this.pathname.replace(/^\//,'')
                    || location.hostname == this.hostname) {

                var target = $(this.hash);
                target = target.length ? target : $('[name=' + this.hash.slice(1) +']');
                if (target.length) {
                    $('html,body').animate({
                        scrollTop: target.offset().top
                    }, 1000);
                    return false;
                }
            }
        });
    });

    function OmirlMoveTo(sHash) {
        var target = $(sHash);
        target = target.length ? target : $('[name=' + this.hash.slice(1) +']');
        if (target.length) {
            $('html,body').animate({
                scrollTop: target.offset().top
            }, 1000);
            return false;
        }
    }
</script>
<script>
    $(resizeMap());
    $(window).resize(resizeMap);

    function resizeMap(){
        var mapHeight = $("#top").height();// - $("#yr-map-header").outerHeight() - $("#yr-map-footer").outerHeight();
        var mapWidth = $("#top").width();

        if ($("#omirlMap").length>0) {
            $("#contentcontainer").height(mapHeight);
            $("#omirlMap").height(mapHeight);
            $("#omirlMap").width(mapWidth);
            console.log( 'RESIZE MAP SET HEIGHT' );
        }
        else {
            $("#contentcontainer").height("100%");
            console.log( 'RESIZE MAP SET 100%' );
        }
    }
</script>

</body>
</html>

<!--
This is the template for the main dialog that is displayed. It uses the
dialogCtrl controller in app.js.
-->
<script type="text/ng-template" id="stationsChart.html">
    <div ng-controller="ChartController" >
        <div id="loading" class="loading" ng-show="m_oController.isLoadingVisibile()" ></div>
        <!--div omirl-high-stock="{{model.stationCode}}" style="height: 400px; min-width: 310px; width: 550px"></div-->
        <div omirl-high-chart="{{model.stationCode}}" style="height: 400px; min-width: 310px; width: 550px"></div>

        <div ng-repeat="oOtherChart in m_oController.getOtherLinks()"
             class="col-md-1 col-xs-1 map-firstlevel-icon"
             ng-class="{'map-firstlevel-icon-selected': oOtherChart.isActive}"
             tooltip-popup-delay="500" tooltip="{{oOtherChart.description}}">
            <img class="img-map-firstlevel-icon" ng-src="{{oOtherChart.imageLinkOff}}"
                 ng-click="m_oController.otherLinkClicked(oOtherChart)"/>
        </div>
    </div>
</script>